<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar sesión Cap-tivante</title>
    <link rel="stylesheet" href="estilos/login.css">
</head>

<body>
    <header>
        <!-- Navbar -->
        <div class="container4">
            <nav class="navbar">
                <ul class="menu" id="navbar-menu">
                    <li><a href="index.html" title="Contacto Cap-tivante">Contacto</a></li>
                    <!-- Aquí se mostrará el nombre de usuario si la sesión está iniciada -->
                </ul>
            </nav>
        </div>
        <div class="container3">
            <nav class="navbar">
                <div class="logo">
                    <img src="imagenes/logosombrero2.jpeg" alt="Logo de la tienda" title="Logo_sombrero">
                </div>
                <ul class="menu">
                    <li><a href="index.html" title="Inicio Cap-tivante">INICIO</a></li>
                    <li><a href="gorras.html" title="Gorras Cap-tivante">GORRAS</a></li>
                    <li><a href="sombreros.html" title="Sombreros Cap-tivante">SOMBREROS</a></li>
                    <li><a href="viseras.html" title="Viseras Cap-tivante">VISERAS</a></li>
                </ul>
                <form action="/search">
                    <input type="text" name="q" placeholder="Buscar">
                    <button type="submit">Buscar</button>
                </form>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="formulario" id="login-formulario">
            <h1>Inicio de sesión</h1>
            <form id="login-form">
                <div class="username">
                    <input type="text" id="email" required>
                    <label>Correo electrónico</label>
                </div>
                <div class="password">
                    <input type="password" id="password" required>
                    <label>Contraseña</label>
                </div>
                <input type="submit" value="Iniciar sesión">
                <div class="registrarse">
                    <a href="#" onclick="toggleForms()">Registrarse</a>
                </div>
            </form>
        </div>

        <div class="formulario" id="register-formulario" style="display: none;">
            <h1>Registrarse</h1>
            <form id="register-form">
                <div class="username">
                    <input type="text" id="register-email" required>
                    <label>Correo electrónico</label>
                </div>
                <div class="password">
                    <input type="password" id="register-password" required>
                    <label>Contraseña</label>
                </div>
                <input type="submit" value="Registrarse">
                <div class="registrarse">
                    <a href="#" onclick="toggleForms()">Ya tengo una cuenta</a>
                </div>
            </form>
        </div>
    </div>

    <footer style="background-color: #fff; color: #a5a4a4; padding: 60px;">
        <!-- Footer content -->
        <div style="text-align: center;">
            <h3>Contacto</h3>
            <p>¡Estamos aquí para ayudarte! Contáctanos para cualquier consulta o inquietud.</p>
            <p>Email: info@tu-tienda.com</p>
            <p>Teléfono: +123456789</p>
        </div>
        <div style="text-align: center; margin-top: 40px;">
            <h3>Síguenos en redes sociales</h3>
            <a href="https://www.facebook.com/profile.php?id=61557315856153" target="_blank"
                style="color: #a5a4a4; text-decoration: none; margin-right: 10px;">Facebook</a>
            <a href="#" style="color: #a5a4a4; text-decoration: none; margin-right: 10px;">Instagram</a>
            <a href="#" style="color: #a5a4a4; text-decoration: none; margin-right: 10px;">Twitter</a>
        </div>
        <div style="text-align: center; margin-top: 40px;">
            <p>&copy; 2024 Tu Tienda de Sombreros. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var storedEmail = localStorage.getItem("email");
            var storedPassword = localStorage.getItem("password");

            if (storedEmail && storedPassword) {
                // Si hay credenciales almacenadas, ocultar el formulario de registro y mostrar el formulario de inicio de sesión
                document.getElementById("login-formulario").style.display = "block";
                document.getElementById("register-formulario").style.display = "none";
                // Mostrar el nombre de usuario en el navbar
                document.getElementById("navbar-menu").innerHTML = `<li>Bienvenido, ${storedEmail}!</li><li><a href="#" onclick="logout()">Cerrar sesión</a></li>`;
            } else {
                // Si no hay credenciales almacenadas, mostrar el formulario de registro y ocultar el formulario de inicio de sesión
                document.getElementById("login-formulario").style.display = "none";
                document.getElementById("register-formulario").style.display = "block";
            }
        });

        document.getElementById("login-form").addEventListener("submit", function (event) {
            event.preventDefault();

            // Obtener los valores del formulario
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

            // Obtener el correo electrónico y la contraseña almacenados en local storage
            var storedEmail = localStorage.getItem("email");
            var storedPassword = localStorage.getItem("password");

            // Verificar si las credenciales son correctas
            if (email === storedEmail && password === storedPassword) {
                alert("Inicio de sesión exitoso!");
                // Redireccionar al usuario a otra página, por ejemplo, la página de inicio
                window.location.href = "index.html";
            } else {
                alert("Correo electrónico o contraseña incorrectos.");
            }
        });

        document.getElementById("register-form").addEventListener("submit", function (event) {
            event.preventDefault();

            // Obtener los valores del formulario
            var email = document.getElementById("register-email").value;
            var password = document.getElementById("register-password").value;

            // Almacenar el correo electrónico y la contraseña en local storage
            localStorage.setItem("email", email);
            localStorage.setItem("password", password);

            alert("¡Registro exitoso!");
            // Redireccionar al usuario a la página de inicio de sesión
            window.location.href = "login.html";
        });

        function toggleForms() {
            var loginForm = document.getElementById("login-formulario");
            var registerForm = document.getElementById("register-formulario");

            if (loginForm.style.display === "block") {
                // Si el formulario de inicio de sesión está visible, ocultarlo y mostrar el formulario de registro
                loginForm.style.display = "none";
                registerForm.style.display = "block";
            } else {
                // Si el formulario de registro está visible, ocultarlo y mostrar el formulario de inicio de sesión
                loginForm.style.display = "block";
                registerForm.style.display = "none";
            }
        }

        function logout() {
            // Limpiar las credenciales almacenadas
            localStorage.removeItem("email");
            localStorage.removeItem("password");
            // Redireccionar al usuario a la página de inicio de sesión
            window.location.href = "login.html";
        }
    </script>
</body>

</html>
